<?xml version="1.0" encoding="utf-8"?>
<header id="id-spec-header">

<title>&language-title;</title>
<version>&version;</version>
<w3c-designation>&doc.w3c-designation;</w3c-designation>
<w3c-doctype>W3C &doc.w3c-doctype-full;</w3c-doctype>
<pubdate>
 <day>&date.day;</day>
 <month>&date.month;</month>
 <year>&date.year;</year>
</pubdate>

<publoc>
<loc xmlns:xlink="http://www.w3.org/1999/xlink" href="&doc.publoc;" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">&doc.publoc;</loc>
</publoc>

<!-- These altlocs URIs are computed from the concatenation of doc.public, doc.shortname, and either '.xml' or
     '-diff-from-yyyymmdd.html', where 'yyyymmdd' is the earlier version of the spec from which a diff has been produced -->
<altlocs>
   <loc xmlns:xlink="http://www.w3.org/1999/xlink" href="&doc.publoc;&doc.shortname;.xml" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">XML</loc>
   <loc xmlns:xlink="http://www.w3.org/1999/xlink" href="&doc.publoc;&doc.shortname;-diff.html" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">Change markings relative to previous edition</loc>
</altlocs>

<!-- The latestloc URI is computed from doc.latestloc -->
<latestloc doc="&language;">
  <loc xmlns:xlink="http://www.w3.org/1999/xlink" href="&doc.latestloc;" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">&doc.latestloc;</loc>
</latestloc>

<!-- These prevlocs URIs are always hard-coded and are never computed from entities -->
<!-- Pubrules doesn't like FPWD to have a prevloc, not even a previous Recommendation -->
<prevlocs doc="&language;">
  <loc role="xquery" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2017/PR-xquery-31-20170117/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2017/PR-xquery-31-20170117/</loc>
  <loc role="xquery" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2016/CR-xquery-31-20161213/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2016/CR-xquery-31-20161213/</loc>
  <loc role="xquery" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2015/CR-xquery-31-20151217/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2015/CR-xquery-31-20151217/</loc>
  <loc role="xquery" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2014/CR-xquery-31-20141218/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2014/CR-xquery-31-20141218/</loc>
  <loc role="xquery" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2014/WD-xquery-31-20141007/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2014/WD-xquery-31-20141007/</loc>
  <loc role="xquery" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2014/WD-xquery-31-20140424/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2014/WD-xquery-31-20140424/</loc>
  <loc role="xpath" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2017/PR-xpath-31-20170117/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2017/PR-xpath-31-20170117/</loc>
  <loc role="xpath" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2016/CR-xpath-31-20161213/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2016/CR-xpath-31-20161213/</loc>
  <loc role="xpath" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2015/CR-xpath-31-20151217/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2015/CR-xpath-31-20151217/</loc>
  <loc role="xpath" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2014/CR-xpath-31-20141218/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2014/CR-xpath-31-20141218/</loc>
  <loc role="xpath" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2014/WD-xpath-31-20141007/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2014/WD-xpath-31-20141007/</loc>
  <loc role="xpath" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2014/WD-xpath-31-20140424/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2014/WD-xpath-31-20140424/</loc>
</prevlocs>


<latestloc-major doc="&language-major;">
  <loc href="&doc.latestloc-major;">&doc.latestloc-major;</loc>
</latestloc-major>
<latestloc-tech doc="&language-tech;">
  <loc href="&doc.latestloc-tech;">&doc.latestloc-tech;</loc>
</latestloc-tech>
<prevrec doc="&language-tech;">
  <loc role="xpath" href="https://www.w3.org/TR/2014/REC-xpath-30-20140408/">https://www.w3.org/TR/2014/REC-xpath-30-20140408/</loc>
  <loc role="xquery" href="https://www.w3.org/TR/2014/REC-xquery-30-20140408/">https://www.w3.org/TR/2014/REC-xquery-30-20140408/</loc>
</prevrec>

<authlist>
<author>
<name>Jonathan Robie</name>
<affiliation><phrase><loc href="http://jonathanrobie.biblicalhumanities.org">biblicalhumanities.org</loc></phrase></affiliation>
<email href="mailto:jonathan.robie@biblicalhumanities.org">jonathan.robie@biblicalhumanities.org</email>
</author>

<author>
<name>Michael Dyck</name>
<affiliation>Invited Expert</affiliation>
<email href="mailto:jmdyck@ibiblio.org">jmdyck@ibiblio.org</email>
</author>

<author>
<name>Josh Spiegel</name>
<affiliation>Oracle Corporation</affiliation>
<email href="mailto:josh.spiegel@oracle.com">josh.spiegel@oracle.com</email>
</author>

</authlist>

<!--* N.B. the value of the errataloc href attribute is set in
    * ../style/assemble-spec.xsl
    * when the XQuery or XPath spec is assembled.  If it changes,
    * change it THERE.
    *-->
<errataloc
 role="spec-conditional"
 href="https://www.w3.org/XML/2017/qt-errata/xquery-31-errata.html"
 xlink:type="simple"/>


<translationloc
 role="spec-conditional"
 href="http://www.w3.org/2003/03/Translations/byTechnology?technology=xquery-31"/>

&status-section;

<abstract id="id-abstract"><p role="xpath" diff="chg">

&language; is an expression language that allows the processing of
values conforming to the data model defined in
<bibref ref="xpath-datamodel-31"/>. The name of the language derives
from its most distinctive feature, the path expression, which provides
a means of hierarchic addressing of the nodes in an XML tree.  As well
as modeling the tree structure of XML, the data model also includes
atomic values, function items, and sequences.  This version of XPath
supports JSON as well as XML, adding maps and arrays to the data model
and supporting them with new expressions in the
language and new functions in <bibref ref="xpath-functions-31"/>.  
These are the most important new features in &language;:

<olist>
<item><p><specref ref="id-maps"/>.</p></item>
<item><p><specref ref="id-arrays"/>.</p></item>
</olist>

&language; is a superset of <bibref ref="xpath-30"/>. A detailed list of changes
made since XPath 3.0 can be found in <specref ref="id-revision-log"/>. 
</p>

<p role="xquery">XML is a versatile markup language, capable of labeling the
information content of diverse data sources including structured and
semi-structured documents, relational databases, and object
repositories. A query language that uses the structure of XML
intelligently can express queries across all these kinds of data,
whether physically stored in XML or viewed as XML via middleware.
This specification describes a query language called XQuery, which is
designed to be broadly applicable across many types of XML data
sources.</p>

<p role="xquery" diff="add">JSON is a lightweight data-interchange format that is widely used to exchange data on the web and to store data in databases. Many applications use JSON
together with XML and HTML. &language; extends XQuery to 
support JSON as well as XML, adding maps and arrays to the data model
and supporting them with new expressions in the
language and new functions in <bibref ref="xpath-functions-31"/>. 
A list of changes made since XQuery 3.1 can be found in <specref ref="id-revision-log"/>. 
These are the most important new features in &language;:
</p>
<olist role="xquery" diff="add">
<item><p><specref ref="id-maps"/>.</p></item>
<item><p><specref ref="id-arrays"/>.</p></item>
</olist>
</abstract>

<langusage>
<language id="EN">English</language>
<!--
<language id="ebnf">EBNF</language>
-->
</langusage>
<revisiondesc id="id-DOESNOTEXIST">
<slist>
<sitem>XQuery 3.1 First Public Working Draft. (#####)</sitem>
</slist>
</revisiondesc>
</header>
